<emu-clause id="sec-operations-on-objects">
  <h1>Operations on Objects</h1>
  <ins>
    <emu-clause id="sec-getoption" aoid="GetOption">
      <h1><ins>GetOption ( _options_, _property_, _type_, _fallback_ [, _possibleValues_] )</ins></h1>
      <p>
        The abstract operation GetOption extracts the value of the property named _property_ from the provided _options_ object, converts it to the required _type_, checks whether it is one of a List of allowed _possibleValues_, and fills in a _fallback_ value if necessary. If _possibleValues_ is *undefined*, there is no fixed set of values and any is permitted.
      </p>
      <emu-note>This operation is based on the <a href="https://tc39.es/ecma402/#sec-getoption">GetOption</a> abstract operation in ECMA-402.</emu-note>
      <emu-alg>
      1. Assert: Type(_options_) is Object, Null or Undefined.
      1. Assert: ! IsPropertyKey(_property_) is *true*.
      1. Assert: _type_ is Boolean or String.
      1. Assert: _possibleValues_ is not present or is a List.
      1. If _options_ is neither *undefined* nor *null*, then
        1. Let _value_ be ? Get(_options_, _property_).
        1. If _value_ is neither *undefined* nor *null*, then
          1. If _type_ is Boolean, then
            1. Let _value_ be ! ToBoolean(_value_).
          1. If _type_ is String, then
            1. Let _value_ be ? ToString(_value_).
          1. If _possibleValues_ is present, then
            1. If _possibleValues_ does not contain an element equal to _value_, throw a *RangeError* exception.
          1. Return _value_.
      1. Return _fallback_.
      </emu-alg>
    </emu-clause>
  </ins>
</emu-clause>